"use strict";var _createClass=function(){function a(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,s){return t&&a(e.prototype,t),s&&a(e,s),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var domElements={},Carousel=function(){function E(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.elementId,s=void 0===t?"carousel":t,a=e.elementClass,l=void 0===a?"my-carousel":a,n=e.autoPlay,i=void 0===n||n,r=e.rotateTime,o=void 0===r?5e3:r,m=e.nav,c=void 0===m||m,d=e.arrows,v=void 0===d||d,u=e.activeClass,p=void 0===u?"active":u;_classCallCheck(this,E),this.elementId=s,this.elementClass=l,this.autoPlay=i,this.rotateTime=o,this.nav=c,this.arrows=v,this.activeClass=p}return _createClass(E,[{key:"init",value:function(){var t=this;document.getElementById(this.elementId)?(domElements.wrapper=document.getElementById(this.elementId),domElements.items=Array.prototype.slice.call(document.getElementById(this.elementId).firstElementChild.children),domElements.activeClass=this.activeClass,domElements.wrapper.className=this.elementClass+" "+this.activeClass,domElements.items[0].className=this.activeClass,this.autoPlay&&(timer=setInterval(autoPlay,this.rotateTime)),this.arrows&&Arrows.addArrows(this.elementClass),this.nav&&Nav.addNav(this.elementClass,this.activeClass),domElements.wrapper.addEventListener("click",function(e){e.target.classList.contains("carousel-nav-btn")&&Nav.changeSlide(e.target,t.rotateTime,t.autoPlay),e.target.classList.contains("arrow-left")&&Arrows.previousSlide(t.rotateTime,t.autoPlay,t.nav),e.target.classList.contains("arrow-right")&&Arrows.nextSlide(t.rotateTime,t.autoPlay,t.nav)})):console.error("Element not found in DOM")}}]),E}(),timer=void 0;function autoPlay(){var e=void 0;domElements.navWrapper&&(e=!0);for(var t=0;t<domElements.items.length;t++)if(domElements.items[t].classList.contains(domElements.activeClass)){domElements.items[t].classList.remove(domElements.activeClass),e&&domElements.navWrapper.children[t].classList.remove(domElements.activeClass),null===domElements.items[t].nextElementSibling?(domElements.items[0].classList.add(domElements.activeClass),e&&domElements.navWrapper.firstChild.classList.add(domElements.activeClass)):(domElements.items[t].nextElementSibling.classList.add(domElements.activeClass),e&&domElements.navWrapper.children[t].nextElementSibling.classList.add(domElements.activeClass));break}}var Arrows=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,Carousel),_createClass(t,null,[{key:"addArrows",value:function(e){var t=document.createElement("button");t.className=e+"-arrow carousel-arrow arrow-left",t.textContent="View Previous";var s=document.createElement("button");s.className=e+"-arrow carousel-arrow arrow-right",s.textContent="View Next",domElements.wrapper.appendChild(t),domElements.wrapper.appendChild(s)}},{key:"nextSlide",value:function(e,t,s){t&&(clearInterval(timer),timer=setInterval(autoPlay,e));var a=void 0;s&&(a=Array.prototype.slice.call(domElements.navWrapper.children));var l=domElements.items.findIndex(function(e){return e.classList.contains(domElements.activeClass)});domElements.items[l].classList.remove(domElements.activeClass),s&&a[l].classList.remove(domElements.activeClass),null===domElements.items[l].nextElementSibling?(domElements.items[0].classList.add(domElements.activeClass),s&&a[0].classList.add(domElements.activeClass)):(domElements.items[l+1].classList.add(domElements.activeClass),s&&a[l+1].classList.add(domElements.activeClass))}},{key:"previousSlide",value:function(e,t,s){t&&(clearInterval(timer),timer=setInterval(autoPlay,e));var a=void 0;s&&(a=Array.prototype.slice.call(domElements.navWrapper.children));var l=domElements.items.findIndex(function(e){return e.classList.contains(domElements.activeClass)});domElements.items[l].classList.remove(domElements.activeClass),s&&a[l].classList.remove(domElements.activeClass),null===domElements.items[l].previousElementSibling?(domElements.items[domElements.items.length-1].classList.add(domElements.activeClass),s&&a[domElements.items.length-1].classList.add(domElements.activeClass)):(domElements.items[l-1].classList.add(domElements.activeClass),s&&a[l-1].classList.add(domElements.activeClass))}}]),t}(),Nav=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,Carousel),_createClass(t,null,[{key:"addNav",value:function(e,t){domElements.navWrapper=document.createElement("div"),domElements.navWrapper.className=e+"-nav-wrapper carousel-nav-wrapper";for(var s=0;s<domElements.items.length;s++){var a=document.createElement("button");a.textContent="View slide "+(s+1),a.className=e+"-nav-btn carousel-nav-btn",0==s&&a.classList.add(t),domElements.navWrapper.appendChild(a)}domElements.wrapper.appendChild(domElements.navWrapper)}},{key:"changeSlide",value:function(t,e,s){s&&(clearInterval(timer),timer=setInterval(autoPlay,e)),Array.prototype.slice.call(t.parentElement.children).map(function(e,s){e.classList.remove(domElements.activeClass),t==e&&(t.classList.add(domElements.activeClass),domElements.items.forEach(function(e,t){s==t?e.classList.add(domElements.activeClass):e.classList.remove(domElements.activeClass)}))})}}]),t}();